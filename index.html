<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุดุฑูุฉ ุงูุชูุงุตู ุงูุนุงููู - ุงูุชุญููู ุงูุงุณุชุฑุงุชูุฌู ูุฃุณุนุงุฑ ููุงุฏู ุงูุนูุฑุฉ 1447ูู</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>๐</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Removed export-related libraries: html2canvas, jspdf, xlsx, jszip, FileSaver -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Brand palette derived from provided logos (gold / dark brown) */
            --brand-gold: #b8862f; /* primary gold */
            --brand-gold-light: #d4af37;
            --brand-dark: #3a2d1f; /* Deeper brown for text */
            --brand-background: #fdfcf9; /* Softer, warmer background */
            --brand-card-bg: #ffffff;
            --brand-accent: #8c6c2f;
            --brand-muted-text: #6e6051;
            --brand-muted: #f7f6f4; /* fallback muted background */
        }

        /* Base typography & layout */
        html, body {
            height: 100%;
            font-family: 'Cairo', sans-serif;
            scroll-behavior: smooth;
            background-color: var(--brand-background);
            color: var(--brand-dark);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Cards */
        .section-card {
            background-color: var(--brand-card-bg);
            border-radius: 1rem;
            padding: 2.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.04);
            border: 1px solid #e5e7eb;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }
        .section-card:hover { transform: translateY(-6px); box-shadow: 0 18px 24px -8px rgba(58,45,31,0.08); }

        h1, h2, h3 { color: var(--brand-dark); line-height: 1.15; }

        /* Chart container responsive sizing */
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            height: min(46vh, 420px);
            max-width: 900px;
        }

        /* Header / nav styles */
        .brand-logo { height: 72px; width: auto; }
        .sticky-nav { position: sticky; top: 0; z-index: 60; backdrop-filter: blur(6px); }

        /* ToTop button (RTL left) */
        #toTopBtn { position: fixed; bottom: 20px; left: 20px; display: none; z-index: 100; transition: opacity 0.3s, transform 0.3s; opacity: 0; transform: translateY(10px); }
        #toTopBtn.show { display: block; opacity: 1; transform: translateY(0); }

        /* Dropdown exports */
        .dropdown { position: relative; display: inline-block; }
        .dropdown-content { display: none; position: absolute; background-color: #fff; min-width: 220px; box-shadow: 0 8px 20px rgba(0,0,0,0.08); z-index: 80; border-radius: 0.5rem; right: 0; }
        .dropdown-content a { color: var(--brand-dark); padding: 12px 16px; text-decoration: none; display: block; text-align: right; transition: background-color 0.18s, color 0.18s; }
        .dropdown-content a:hover { background-color: var(--brand-dark); color: var(--brand-gold); }
        .dropdown:hover .dropdown-content { display: block; }

        /* NAV responsive behavior: mobile toggle + animated panel */
        #navToggle { display: inline-flex; align-items: center; justify-content: center; background: transparent; border: none; cursor: pointer; }
        #navLinks { display: flex; gap: 1.5rem; align-items: center; }

        /* Mobile-specific: collapse nav links into full-width panel */
        @media (max-width: 767px) {
            .brand-logo { height: 56px; }
            header h1 { font-size: clamp(1.25rem, 4vw, 2rem); }
            .section-card { padding: 1.25rem; }
            .chart-container { height: 34vh; max-width: 100%; }

            /* Hide the desktop links and show a collapsible panel */
            #navToggle { display: inline-flex; }
            #navLinks { position: absolute; inset: auto 0 0 0; background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.995)); flex-direction: column; gap: 0; align-items: stretch; padding: 0.75rem; display: none; border-top: 1px solid rgba(0,0,0,0.04); }
            #navLinks a { padding: 0.75rem 1rem; border-radius: 0.5rem; color: var(--brand-dark); }
            #navLinks .dropdown { margin: 0.5rem 1rem; }
            #navLinks.show { display: flex; }
            .sticky-nav .container { padding-left: 0.75rem; padding-right: 0.75rem; }
        }

        /* Tablet and up: comfortable spacing */
        @media (min-width: 768px) and (max-width: 1023px) {
            .chart-container { height: 38vh; max-width: 780px; }
            .brand-logo { height: 64px; }
            .section-card { padding: 1.5rem; }
        }

        /* Desktop large screens */
        @media (min-width: 1024px) {
            .chart-container { height: 46vh; max-width: 1100px; }
            .brand-logo { height: 80px; }
            .section-card { padding: 2.5rem; }
        }

        /* Small visual refinements */
        .sticky-nav a:hover { color: var(--brand-gold); }
        .sticky-nav .dropdown button { background-color: var(--brand-dark) !important; }
        .sticky-nav .dropdown button:hover { background-color: var(--brand-accent) !important; }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Palette: Brilliant Blues -->
    <!-- #005f73, #0a9396, #94d2bd, #e9d8a6, #ee9b00, #ca6702, #bb3e03, #ae2012, #9b2226 -->
    <!-- Confirmation: NEITHER Mermaid JS NOR SVG were used in this output. -->
    <!-- 
        Narrative Plan:
        1.  Introduction: Set the stage for the 1447H Umrah hotel market analysis.
        2.  Makkah Market: Analyze premium and budget hotel costs, price evolution, and meal plan composition.
        3.  Madinah Market: Compare key hotels on price and analyze value using a scatter plot.
        4.  Supplier Analysis: Compare prices from different suppliers for the same hotel.
        5.  Seasonal Peaks: Highlight price surges during peak periods for both cities.
        6.  Key Insights: Provide expanded, actionable takeaways and pricing advice.
        
        Visualization Choices:
        -   Makkah Premium Hotel Costs -> Bar Chart (Goal: Compare) -> Implemented with Chart.js.
        -   Makkah Budget Hotel Costs -> Bar Chart (Goal: Compare) -> Implemented with Chart.js.
        -   Makkah Price Evolution -> Line Chart (Goal: Show Change) -> Implemented with Chart.js.
        -   Makkah Meal Plan Composition -> Doughnut Chart (Goal: Show Composition) -> Implemented with Chart.js.
        -   Madinah Hotel Costs -> Bar Chart (Goal: Compare) -> Implemented with Chart.js.
        -   Madinah Value Analysis -> Scatter Plot (Goal: Reveal Relationships) -> Implemented with Chart.js.
        -   Supplier Price Comparison -> Grouped Bar Chart (Goal: Compare) -> Implemented with Chart.js.
        -   Seasonal Peaks -> Styled List (Goal: Organize/Inform) -> Implemented with HTML/Tailwind.
        -   Key Takeaways -> Styled List (Goal: Organize/Inform) -> Implemented with HTML/Tailwind.
    -->

    <nav class="sticky-nav bg-[var(--brand-card-bg)]/80 backdrop-blur-md shadow-md">
        <div class="container mx-auto px-4">
            <div class="flex justify-center items-center h-24"> <!-- Increased height -->
                <div class="flex items-center gap-4">
                    <img src="./logo1.png" alt="ุดุนุงุฑ ุดุฑูุฉ ุงูุชูุงุตู ุงูุนุงููู" class="brand-logo h-16"> <!-- Adjusted size -->
                    <div>
                        <h1 class="text-2xl font-extrabold" style="color: var(--brand-dark);">ุดุฑูุฉ ุงูุชูุงุตู ุงูุนุงููู</h1>
                        <p class="text-xs" style="color: var(--brand-muted-text);">ูุชุญููู ุฃุณุนุงุฑ ุงูููุงุฏู</p>
                    </div>
                </div>
                <div class="flex-grow"></div>
                <!-- Desktop links (hidden on mobile) -->
                <div id="navLinks" class="flex items-center space-x-6">
                    <a href="#makkah" class="text-gray-600 hover:text-[var(--brand-gold)] font-semibold transition">ุชุญููู ููุฉ</a>
                    <a href="#madinah" class="text-gray-600 hover:text-[var(--brand-gold)] font-semibold transition">ุชุญููู ุงููุฏููุฉ</a>
                    <a href="#suppliers" class="text-gray-600 hover:text-[var(--brand-gold)] font-semibold transition">ุชุญููู ุงูููุฑุฏูู</a>
                    <a href="#peaks" class="text-gray-600 hover:text-[var(--brand-gold)] font-semibold transition">ูุชุฑุงุช ุงูุฐุฑูุฉ</a>
                    <a href="#takeaways" class="text-gray-600 hover:text-[var(--brand-gold)] font-semibold transition">ุงูุชูุตูุงุช ุงูููุงุฆูุฉ</a>
                    <!-- Export Button Dropdown -->
                    <div class="dropdown">
                        <button class="text-white font-bold py-2 px-4 rounded-lg transition inline-flex items-center" style="background:var(--brand-dark);">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                            <span>ุชูุฒูู ุงููููุงุช</span>
                        </button>
                        <div class="dropdown-content">
                            <a href="/ุงุณุนุงุฑ ููุงุฏู ุงููุฏููุฉ ุงููููุฑุฉ 1447ูู.xlsx" download>ุงุณุนุงุฑ ููุงุฏู ุงููุฏููุฉ ุงููููุฑุฉ 1447ูู Excel</a>
                            <a href="/ุงุณุนุงุฑ ููุงุฏู ููุฉ ุงูููุฑูุฉ 1447ูู.xlsx" download>ุงุณุนุงุฑ ููุงุฏู ููุฉ ุงูููุฑูุฉ 1447ูู Excel</a>
                            <a href="/ุงูุชุญููู ุงูููุณุน ูุงูุงุฎูุฑ.docx" download>ุชุญููู ุดุงูู ููุงุณุนุงุฑ WORD</a>
                        </div>
                    </div>
                </div>
                <!-- Mobile toggle button -->
                <button id="navToggle" aria-expanded="false" aria-controls="navLinks" class="ml-4 hidden md:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <div id="top" class="container mx-auto p-4 md:p-8">

        <header class="text-center my-12 bg-white p-8 rounded-xl shadow-lg" style="border-top: 5px solid var(--brand-gold);">
            <h1 class="text-4xl md:text-6xl font-extrabold mb-3" style="color: var(--brand-dark);">ุงูุชุญููู ุงูุงุณุชุฑุงุชูุฌู ูุฃุณุนุงุฑ ููุงุฏู ุงูุนูุฑุฉ 1447ูู</h1>
            <p class="text-xl" style="color: var(--brand-muted-text);">ููุญุฉ ุจูุงูุงุช ุชูุงุนููุฉ ูุงุชุฎุงุฐ ูุฑุงุฑุงุช ุชุณุนูุฑ ูุฏุฑูุณุฉ ูู ููุฉ ูุงููุฏููุฉ</p>
        </header>        <main class="space-y-16"></main>

            <!-- Makkah Section -->
            <section id="makkah" class="section-card" role="region" aria-labelledby="makkah-title">
                <h2 id="makkah-title" class="text-3xl font-bold text-center mb-8">ุชุญููู ุณูู ููุงุฏู ููุฉ ุงูููุฑูุฉ</h2>
                <p class="text-center mb-12 max-w-4xl mx-auto">
                    ูุชููุฒ ุณูู ููุฉ ุจุชููุนู ุงููุจูุฑุ ุจุฏุกูุง ูู ุงูููุงุฏู ุงููุงุฎุฑุฉ ุงููุทูุฉ ุนูู ุงูุญุฑู ูุตูููุง ุฅูู ุงูุฎูุงุฑุงุช ุงูุงูุชุตุงุฏูุฉ ูู ุงูููุงุทู ุงููุฌุงูุฑุฉ. ูุฐุง ุงููุณู ูุบูุต ูู ุชูุงุตูู ุงูุฃุณุนุงุฑ ููุฎุชูู ุงููุฆุงุช ูุชุทูุฑูุง ุนุจุฑ ุฃุดูุฑ ุงูููุณู.
                </p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                    
                    <div class="w-full">
                        <h3 class="text-xl font-bold text-center mb-4">ููุงุฑูุฉ ุชูููุฉ ุงูููุงุฏู ุงููุงุฎุฑุฉ</h3>
                        <p class="text-center text-sm text-gray-500 mb-4">ูุชูุณุท ุณุนุฑ ุงูุบุฑูุฉ ุงูุซูุงุฆูุฉ ูุน ุฅูุทุงุฑ (ุฃุบุณุทุณ - ุณุจุชูุจุฑ 2025)</p>
                        <div class="chart-container">
                            <canvas id="makkahPremiumComparisonChart"></canvas>
                        </div>
                        <p class="text-center mt-4 text-sm text-gray-600">
                           ูุญุชู "ููุฑูููุช ุณุงุนุฉ ููุฉ" ููุฉ ุงููุฑู ุงูุณุนุฑูุ ุจูููุง ุชุธูุฑ ุงูููุงูุณุฉ ุงูุดุฏูุฏุฉ ูู ุงููุฆุฉ ุงูุชุงููุฉ ุจูู "ููููุจูู" ู "ุจูููุงู". ูููุฑ "ุดูุฑุงุชูู ุฌุจู ุงููุนุจุฉ" ู "ุงูุดูุฏุงุก" ููุงุท ุณุนุฑูุฉ ุชูุงูุณูุฉ ููุบุงูุฉ.
                        </p>
                    </div>

                    <div class="w-full">
                        <h3 class="text-xl font-bold text-center mb-4">ููุงุฑูุฉ ุชูููุฉ ุงูููุงุฏู ุงูุงูุชุตุงุฏูุฉ</h3>
                         <p class="text-center text-sm text-gray-500 mb-4">ูุชูุณุท ุณุนุฑ ุงูุบุฑูุฉ ุจุฏูู ูุฌุจุงุช (ุฃุบุณุทุณ - ุณุจุชูุจุฑ 2025)</p>
                        <div class="chart-container">
                            <canvas id="makkahBudgetComparisonChart"></canvas>
                        </div>
                         <p class="text-center mt-4 text-sm text-gray-600">
                           ุชูููู ุงูููุงุฏู ูู ููุงุทู ูุญุจุณ ุงูุฌู ูุฑูุน ุจุฎุด ุนูู ุงูุดุฑูุญุฉ ุงูุงูุชุตุงุฏูุฉุ ูุน ุฃุณุนุงุฑ ุชูุงูุณูุฉ ููุบุงูุฉ ุชูุฏููุง ููุงุฏู ูุซู "ุฃุจุฑุงุฌ ุงููุณูุฉ" ู "ููุงุฒู ุฃุฌูุงุฏ".
                        </p>
                    </div>

                     <div class="w-full">
                        <h3 class="text-xl font-bold text-center mb-4">ุชุทูุฑ ุงูุฃุณุนุงุฑ ุฎูุงู ุงูููุณู (ููุฏู ุงูุดูุฏุงุก)</h3>
                         <p class="text-center text-sm text-gray-500 mb-4">ุชุบูุฑ ูุชูุณุท ุณุนุฑ ุงูุบุฑูุฉ ุงูุซูุงุฆูุฉ ูู ุจุฏุงูุฉ ุงูููุณู ุฅูู ูุชุฑุฉ ุงูุฐุฑูุฉ</p>
                        <div class="chart-container">
                            <canvas id="makkahPriceEvolutionChart"></canvas>
                        </div>
                         <p class="text-center mt-4 text-sm text-gray-600">
                           ููุงุญุธ ุงุฑุชูุงุน ุชุฏุฑูุฌู ูุญุงุฏ ูู ุงูุฃุณุนุงุฑ ูุน ุงูุงูุชุฑุงุจ ูู ููุงูุฉ ุงูุนุงูุ ุญูุซ ุชุตู ุงูุฒูุงุฏุฉ ุฅูู ุฃูุซุฑ ูู ุงูุถุนูุ ููุง ูุคูุฏ ุฃูููุฉ ุงูุญุฌุฒ ุงููุจูุฑ.
                        </p>
                    </div>
                    
                    <div class="w-full">
                        <h3 class="text-xl font-bold text-center mb-4">ุชูุฒูุน ุจุงูุงุช ุงููุฌุจุงุช ูู ุงูุณูู</h3>
                         <p class="text-center text-sm text-gray-500 mb-4">ูุณุจุฉ ุงูุชุดุงุฑ ุฃููุงุน ุจุงูุงุช ุงููุฌุจุงุช ุจูู ุงูููุงุฏู ุงููุนุฑูุถุฉ</p>
                        <div class="chart-container">
                            <canvas id="makkahMealPlanChart"></canvas>
                        </div>
                         <p class="text-center mt-4 text-sm text-gray-600">
                           ุชุชุฑูุฒ ุงูุนุฑูุถ ุจุดูู ูุจูุฑ ุนูู ุจุงูุงุช ุงูุฅูุทุงุฑ (BB) ูุงูุบุฑู ููุท (RO)ุ ููุง ูุชูุญ ูุฑููุฉ ููุดุฑูุงุช ูู ุฅุถุงูุฉ ุฎุฏูุงุช ุงูุฅุนุงุดุฉ ุจุดูู ูุณุชูู.
                        </p>
                    </div>

                </div>
            </section>

            <!-- Madinah Section -->
            <section id="madinah" class="section-card" role="region" aria-labelledby="madinah-title">
                <h2 id="madinah-title" class="text-3xl font-bold text-center mb-8">ุชุญููู ุณูู ููุงุฏู ุงููุฏููุฉ ุงููููุฑุฉ</h2>
                 <p class="text-center mb-12 max-w-4xl mx-auto">
                    ุชุชุฑูุฒ ุงูููุงูุณุฉ ูู ุงููุฏููุฉ ุงููููุฑุฉ ูู ุงูููุทูุฉ ุงููุฑูุฒูุฉ. ุงูุชุญููู ุงูุชุงูู ููุฏู ููุงุฑูุฉ ุดุงููุฉ ููุฃุณุนุงุฑ ููุญูู ุงููููุฉ ุงูุชู ูุญุตู ุนูููุง ุงููุนุชูุฑ ููุงุจู ุงูุณุนุฑ ุงููุฏููุน ุจูุงุกู ุนูู ุงูุฎุฏูุงุช ุงููุถููุฉ.
                </p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
                    <div class="w-full">
                        <h3 class="text-xl font-bold text-center mb-4">ููุงุฑูุฉ ูุชูุณุท ุชูููุฉ ุงูููุงุฏู ุงูุฑุฆูุณูุฉ</h3>
                        <p class="text-center text-sm text-gray-500 mb-4">ุบุฑูุฉ ุซูุงุฆูุฉ (ุฃุบุณุทุณ - ุณุจุชูุจุฑ 2025)</p>
                        <div class="chart-container">
                            <canvas id="madinahComparisonChart"></canvas>
                        </div>
                        <p class="text-center mt-4 text-sm text-gray-600">
                           ุชุชูุงูุช ุงูุฃุณุนุงุฑ ุจุดูู ูุจูุฑุ ุญูุซ ูุชุตุฏุฑ "ุฏุงุฑ ุงูุฅููุงู ุฅูุชุฑูููุชูููุชุงู" ุงููุงุฆูุฉุ ุจูููุง ุชูุฏู ููุงุฏู ูุซู "ุงูุฃูุตุงุฑ ุฌููุฏู ุชูููุจ" ู "ูููููุฑุฏ ุฏุงุฑ ุงูุฎูุฑ" ุจุฏุงุฆู ุงูุชุตุงุฏูุฉ ููุชุงุฒุฉ ูู ููุจ ุงูููุทูุฉ ุงููุฑูุฒูุฉ.
                        </p>
                    </div>
                     <div class="w-full">
                        <h3 class="text-xl font-bold text-center mb-4">ุชุญููู ุงููููุฉ: ุงูุณุนุฑ ููุงุจู ุงููุฌุจุงุช</h3>
                        <p class="text-center text-sm text-gray-500 mb-4">ููุงุฑูุฉ ุจูู ุชูููุฉ ุงูููุฏู ูููุน ุจุงูุฉ ุงููุฌุจุงุช ุงูููุฏูุฉ</p>
                        <div class="chart-container">
                            <canvas id="madinahValueChart"></canvas>
                        </div>
                        <p class="text-center mt-4 text-sm text-gray-600">
                           ููุธูุฑ ุงูุฑุณู ุงูุจูุงูู ุฃู ุงูููุงุฏู ุงูุชู ุชูุฏู ูุฌุจุงุช ูุงููุฉ (FB) ูุซู "ุณุฌู ุงููุฏููุฉ" ู "ุฅุนูุงุฑ ุฑููุงู" ุชุชุฑูุฒ ูู ูุทุงู ุณุนุฑู ูุชูุณุทุ ููุง ูุฌุนููุง ุฎูุงุฑุงุช ุฐุงุช ูููุฉ ุนุงููุฉ. ุจูููุง ุงูููุงุฏู ุงูุฃูู ุณุนุฑุงู ูุง ุชุดูู ูุฌุจุงุช.
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- Supplier Analysis Section -->
            <section id="suppliers" class="section-card" role="region" aria-labelledby="suppliers-title">
                <h2 id="suppliers-title" class="text-3xl font-bold text-center mb-8">ุชุญููู ุฃุณุนุงุฑ ุงูููุฑุฏูู (ููุฏู ุงูุดูุฏุงุก)</h2>
                <p class="text-center mb-12 max-w-4xl mx-auto">
                    ุชุฎุชูู ุงูุฃุณุนุงุฑ ูููุณ ุงูููุฏู ุจูู ุงูููุฑุฏูู ุงููุฎุชูููู ูุชุชุบูุฑ ุงููุฑููุงุช ูุน ุชุบูุฑ ุงูููุณู. ูุฐุง ุงูุชุญููู ูุณูุท ุงูุถูุก ุนูู ูุฐู ุงููุฑููุงุช ููุณุงุนุฏุชู ูู ุงุฎุชูุงุฑ ุงููุตุฏุฑ ุงูุฃูุถู ุชูููุฉ.
                </p>
                <div class="w-full">
                    <div class="chart-container">
                        <canvas id="supplierComparisonChart"></canvas>
                    </div>
                    <p class="text-center mt-4 text-sm text-gray-600">
                        ูุธูุฑ ุงูุฑุณู ุชุจุงูููุง ูุงุถุญูุง ูู ุงูุฃุณุนุงุฑ ุงูููุฏูุฉ ูู ุงูููุฑุฏูู ูููุณ ุงููุชุฑุฉุ ูุชุชุบูุฑ ูุฐู ุงููุฑููุงุช ูู ูุชุฑุฉ ุงูุฐุฑูุฉุ ููุง ูุคูุฏ ุนูู ุฃูููุฉ ููุงุฑูุฉ ุงูุนุฑูุถ ูุจู ุฅุชูุงู ุงูุญุฌูุฒุงุช ูุถูุงู ุงูุญุตูู ุนูู ุฃูุถู ุณุนุฑ ุชูููุฉ.
                    </p>
                </div>
            </section>

             <!-- Seasonal Peaks Section -->
            <section id="peaks" class="section-card" role="region" aria-labelledby="peaks-title">
                <h2 id="peaks-title" class="text-3xl font-bold text-center mb-8">ุฐุฑูุฉ ุงูููุณู: ุชุญููู ุงุฑุชูุงุน ุงูุฃุณุนุงุฑ</h2>
                <p class="text-center mb-12 max-w-4xl mx-auto">
                    ุชุดูุฏ ุงููุชุฑุฉ ูู ุฃูุงุฎุฑ ุฏูุณูุจุฑ ุฅูู ุฃูุงุฆู ููุงูุฑ ุงุฑุชูุงุนูุง ุญุงุฏูุง ูู ุงูุฃุณุนุงุฑ ุจุณุจุจ ุงูุฅุฌุงุฒุงุช. ูู ุงูุถุฑูุฑู ุฃุฎุฐ ูุฐุง ุงูุงุฑุชูุงุน ูู ุงูุงุนุชุจุงุฑ ุนูุฏ ุงูุชุฎุทูุท ููุจุงูุงุช.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-center">
                    <div class="bg-red-50 p-6 rounded-lg">
                        <div class="text-6xl font-extrabold text-red-600">~115%</div>
                        <div class="text-xl text-gray-700 mt-2">ูุชูุณุท ุงูุฒูุงุฏุฉ ูู ุฃุณุนุงุฑ<br>ููุงุฏู ููุฉ ุงููุงุฎุฑุฉ</div>
                    </div>
                     <div class="bg-orange-50 p-6 rounded-lg">
                        <div class="text-6xl font-extrabold text-orange-500">~95%</div>
                        <div class="text-xl text-gray-700 mt-2">ูุชูุณุท ุงูุฒูุงุฏุฉ ูู ุฃุณุนุงุฑ<br>ููุงุฏู ุงููุฏููุฉ ุงููููุฑุฉ</div>
                    </div>
                </div>
            </section>

            <!-- Key Takeaways Section -->
            <section id="takeaways" class="section-card" role="region" aria-labelledby="takeaways-title">
                <h2 id="takeaways-title" class="text-3xl font-bold text-center mb-8">ุงูุฎูุงุตุฉ ูุงูุชูุตูุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ</h2>
                <div class="max-w-4xl mx-auto space-y-6">
                    <div class="bg-blue-50 p-5 rounded-lg border-r-4 border-blue-500">
                        <h3 class="font-bold text-xl text-blue-800">ููุฉ: ุงุณุชุบูุงู ุชููุน ุงูุณูู</h3>
                        <p class="text-blue-700 mt-2">ุงูุณูู ูู ููุฉ ูุชููุน ุจุดูู ูุจูุฑ. **ููุนููุงุก ุงูุจุงุญุซูู ุนู ุงููููุฉ**ุ ูุนุชุจุฑ **ููุฏู ุงูุดูุฏุงุก** ู**ุดูุฑุงุชูู ุฌุจู ุงููุนุจุฉ** ุฎูุงุฑุงุช ููุชุงุฒุฉ ุชุฌูุน ุจูู ุงููุฑุจ ูุงูุณุนุฑ ุงูุฌูุฏ. **ููููุฒุงููุงุช ุงููุญุฏูุฏุฉ**ุ ููุงุฏู ูุซู **ุฃุจุฑุงุฌ ุงููุณูุฉ** ู**ููุงุฒู ุฃุฌูุงุฏ** ุชูุฏู ุฃุณุนุงุฑูุง ูุง ุชูุจู ุงูููุงูุณุฉ.</p>
                    </div>
                    <div class="bg-green-50 p-5 rounded-lg border-r-4 border-green-500">
                        <h3 class="font-bold text-xl text-green-800">ุงููุฏููุฉ: ุงูุชุฑููุฒ ุนูู ุงููููุฉ ุงููุถุงูุฉ</h3>
                        <p class="text-green-700 mt-2">ูู ุงููุฏููุฉุ ุงููููุฉ ูุง ุชูุงุณ ุจุงูุณุนุฑ ููุท. **ููุฏู ุณุฌู ุงููุฏููุฉ** ููุฏู ุฃูุถู ุจุงูุฉ ูุชูุงููุฉ (ุณุนุฑ + ุฅูุทุงุฑ). ุนูุฏ ุงูุชุณูููุ ุฑูุฒ ุนูู ุฃู ุจุงูุงุช ุงูููุงุฏู ุงูุชู ุชุดูู ูุฌุจุงุช ุชููุฑ ุฑุงุญุฉ ูุชูููุฑูุง ุฃูุจุฑ ูููุนุชูุฑ ุนูู ุงููุฏู ุงูุทููู.</p>
                    </div>
                    <div class="bg-purple-50 p-5 rounded-lg border-r-4 border-purple-500">
                        <h3 class="font-bold text-xl text-purple-800">ุฃูููุฉ ููุงุฑูุฉ ุงูููุฑุฏูู</h3>
                        <p class="text-purple-700 mt-2">ููุง ุฃุธูุฑ ุงูุชุญูููุ ูููู ุฃู ุชุตู ูุฑููุงุช ุงูุฃุณุนุงุฑ ูููุณ ุงูููุฏู ุจูู ุงูููุฑุฏูู ุฅูู **15%**. ูู ุงูุถุฑูุฑู ุจูุงุก ุนูุงูุงุช ูุน ููุฑุฏูู ูุชุนุฏุฏูู ูุงูููุงุฑูุฉ ุงูุฏุงุฆูุฉ ููุญุตูู ุนูู ุฃูุถู ุชูููุฉ ููููุฉ.</p>
                    </div>
                    <div class="bg-yellow-50 p-5 rounded-lg border-r-4 border-yellow-500">
                        <h3 class="font-bold text-xl text-yellow-800">ุงูุชุณุนูุฑ ุงูุฏููุงูููู ูุฅุฏุงุฑุฉ ุงูุฐุฑูุฉ</h3>
                        <p class="text-yellow-700 mt-2">ุงูุฃุณุนุงุฑ ุชุฑุชูุน ุจุดูู ุญุงุฏ ูู ููุงูุฉ ุฏูุณูุจุฑ. **ููุตู ุจุดุฏุฉ** ุจุชุทุจูู ุงุณุชุฑุงุชูุฌูุฉ ุชุณุนูุฑ ุฏููุงููููุฉุ ูุน ุฑูุน ุงูุฃุณุนุงุฑ ุจุดูู ูุจูุฑ ููุฐู ุงููุชุฑุฉ ูุชูุฏูู ุนุฑูุถ ุฎุงุตุฉ ููุญุฌูุฒุงุช ุงููุจูุฑุฉ ูุชุฃููู ุงูุบุฑู ูุจู ูุตูู ุงูุฐุฑูุฉ.</p>
                    </div>
                </div>
            </section>

        </main>

        <footer class="text-center mt-16 pt-8 border-t" style="border-color: var(--brand-gold-light);">
            <p style="color: var(--brand-muted-text);">&copy; 2025 ุดุฑูุฉ ุงูุชูุงุตู ุงูุนุงููู. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
        </footer>

    </div>

    <a href="#top" id="toTopBtn" aria-label="ุงูุนูุฏุฉ ุฅูู ุงูุฃุนูู" class="bg-gray-800 text-white rounded-full p-3 shadow-lg hover:bg-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
        </svg>
    </a>

    <script>
        // --- Professional Enhancements ---
        // 1. Back to Top Button Logic
        const toTopBtn = document.getElementById('toTopBtn');
        window.onscroll = function() {
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                toTopBtn.classList.add('show');
            } else {
                toTopBtn.classList.remove('show');
            }
        };

        // 2. Read CSS Variables for Charts
        const computedStyle = getComputedStyle(document.documentElement);
        const brandPalette = {
            gold: computedStyle.getPropertyValue('--brand-gold').trim() || '#b8862f',
            goldLight: computedStyle.getPropertyValue('--brand-gold-light').trim() || '#d4af37',
            dark: computedStyle.getPropertyValue('--brand-dark').trim() || '#3a2d1f',
            accent: computedStyle.getPropertyValue('--brand-accent').trim() || '#8c6c2f',
            mutedText: computedStyle.getPropertyValue('--brand-muted-text').trim() || '#6e6051'
        };
        // --- End of Enhancements ---

        const chartColors = [
            brandPalette.gold,
            brandPalette.goldLight,
            brandPalette.accent,
            '#c89f54', // lighter gold
            '#6b4f2c', // darker brown
            '#e0c89d', // sand
            brandPalette.mutedText
        ];

        // --- Data for Charts and Export ---
        const reportData = {
            makkahPremium: [
                { hotel: 'ููุฏู ุฃูุฌู', cost: 482 }, { hotel: 'ููุฏู ุงูุดูุฏุงุก', cost: 439 },
                { hotel: 'ููููุจูู ูุงุฌุฑ', cost: 785 }, { hotel: 'ุจูููุงู ุฒูุฒู', cost: 780 },
                { hotel: 'ุดูุฑุงุชูู ุฌุจู ุงููุนุจุฉ', cost: 400 }, { hotel: 'ููุฑูููุช ุณุงุนุฉ ููุฉ', cost: 950 }
            ],
            makkahBudget: [
                { hotel: 'ุฃุจุฑุงุฌ ุงููุณูุฉ', cost: 90 }, { hotel: 'ููุงุฒู ุฃุฌูุงุฏ', cost: 123 },
                { hotel: 'ุฅุนูุงุฑ ุงูุฎููู', cost: 185 }, { hotel: 'ููุฏู ููุณุทูู', cost: 175 },
                { hotel: 'ููุงุฑู ุงููุฌุฑุฉ', cost: 150 }, { hotel: 'ุฅููุงู ุจูุฉ', cost: 210 }
            ],
            makkahEvolution: {
                labels: ['ููููู - ุฃุบุณุทุณ', 'ุณุจุชูุจุฑ - ุฃูุชูุจุฑ', 'ุฏูุณูุจุฑ - ููุงูุฑ'],
                datasets: [
                    { hotel: 'ููุฏู ุงูุดูุฏุงุก (BB)', prices: [388, 500, 800] },
                    { hotel: 'ุฅุนูุงุฑ ุฌุฑุงูุฏ (BB)', prices: [280, 340, 490] },
                    { hotel: 'ููุงุฒู ุฃุฌูุงุฏ (RO)', prices: [100, 135, 175] }
                ]
            },
            makkahMealPlans: { 'ุฅูุทุงุฑ ููุท (BB)': 50, 'ุจุฏูู ูุฌุจุงุช (RO)': 40, 'ุดุงูู 3 ูุฌุจุงุช (FB)': 10 },
            madinahHotels: [
                { hotel: 'ุจูููุงู ุฒูุฒู', cost: 550 }, { hotel: 'ูุฑุงูู ุจูุงุฒุง', cost: 525 },
                { hotel: 'ุฏุงุฑ ุงูุฅููุงู ุฅูุชุฑูููุชูููุชุงู', cost: 1108 }, { hotel: 'ููููุจูู ุฃููุงุฑ', cost: 590 },
                { hotel: 'ูุฑููุชูู ุงูุญุงุฑุซูุฉ', cost: 650 }, { hotel: 'ุฏูุฉ ุทูุจุฉ', cost: 547 },
                { hotel: 'ุณุฌู ุงููุฏููุฉ', cost: 455 }, { hotel: 'ุจููุณููุง ููุฑุซ', cost: 650 },
                { hotel: 'ูููููุฑุฏ ุฏุงุฑ ุงูุฎูุฑ', cost: 400 }, { hotel: 'ุงูุฃูุตุงุฑ ุฌููุฏู ุชูููุจ', cost: 378 }
            ],
            madinahValue: [
                { hotel: 'ุณุฌู ุงููุฏููุฉ', price: 455, meal_plan: 'BB' }, { hotel: 'ุฅุนูุงุฑ ุฑููุงู', price: 700, meal_plan: 'FB' },
                { hotel: 'ุจูููุงู ุฒูุฒู', price: 550, meal_plan: 'BB' }, { hotel: 'ูุฑููุชูู ุงูุญุงุฑุซูุฉ', price: 650, meal_plan: 'BB' },
                { hotel: 'ุฏูุฉ ุทูุจุฉ', price: 547, meal_plan: 'RO' }, { hotel: 'ูููููุฑุฏ ุฏุงุฑ ุงูุฎูุฑ', price: 400, meal_plan: 'RO' },
                { hotel: 'ุงูุฃูุตุงุฑ ุฌููุฏู ุชูููุจ', price: 378, meal_plan: 'RO' }, { hotel: 'ูุฑุงูู ุจูุงุฒุง', price: 525, meal_plan: 'RO' },
                { hotel: 'ููููุจูู ุฃููุงุฑ', price: 590, meal_plan: 'BB' }
            ],
            supplierComparison: {
                labels: ['ูุชุฑุฉ ุนุงุฏูุฉ (ุฃุบุณุทุณ - ุณุจุชูุจุฑ)', 'ูุชุฑุฉ ุงูุฐุฑูุฉ (ุฏูุณูุจุฑ - ููุงูุฑ)'],
                datasets: [
                    { supplier: 'ูุงููุฉ ุงูุชูุญูุฏ', prices: [450, 820] },
                    { supplier: 'ููุงู ุงูุถูุงูุฉ', prices: [500, 850] },
                    { supplier: 'ุจุงูู ุฑูุชุด (ูุจุงุดุฑ)', prices: [425, 800] }
                ]
            }
        };


        const tooltipCallback = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) { return label.join(' '); }
                            return label;
                        }
                    }
                },
                legend: { labels: { font: { family: 'Cairo', size: 14 } } }
            },
            scales: {
                y: { ticks: { font: { family: 'Cairo' } } },
                x: { ticks: { font: { family: 'Cairo' } } }
            }
        };

        function wrapLabel(label, maxLength = 16) {
            if (label.length <= maxLength) return label;
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            words.forEach(word => {
                if ((currentLine + word).length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            });
            lines.push(currentLine.trim());
            return lines;
        }

        // Makkah Premium Comparison
        new Chart(document.getElementById('makkahPremiumComparisonChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: reportData.makkahPremium.map(d => wrapLabel(d.hotel)),
                datasets: [{ label: 'ูุชูุณุท ุงูุชูููุฉ (ุฑูุงู ุณุนูุฏู)', data: reportData.makkahPremium.map(d => d.cost), backgroundColor: chartColors }]
            },
            options: { ...tooltipCallback, responsive: true, maintainAspectRatio: false }
        });

        // Makkah Budget Comparison
        new Chart(document.getElementById('makkahBudgetComparisonChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: reportData.makkahBudget.map(d => d.hotel),
                datasets: [{ label: 'ูุชูุณุท ุงูุชูููุฉ (ุฑูุงู ุณุนูุฏู)', data: reportData.makkahBudget.map(d => d.cost), backgroundColor: chartColors }]
            },
            options: { ...tooltipCallback, responsive: true, maintainAspectRatio: false, indexAxis: 'y' }
        });

        // Makkah Price Evolution
        new Chart(document.getElementById('makkahPriceEvolutionChart').getContext('2d'), {
            type: 'line',
            data: {
                labels: reportData.makkahEvolution.labels,
                datasets: reportData.makkahEvolution.datasets.map((d, i) => ({
                    label: d.hotel,
                    data: d.prices,
                    borderColor: chartColors[i],
                    backgroundColor: chartColors[i] + '33',
                    fill: true,
                    tension: 0.1
                }))
            },
            options: { ...tooltipCallback, responsive: true, maintainAspectRatio: false }
        });

        // Makkah Meal Plan Composition
        new Chart(document.getElementById('makkahMealPlanChart').getContext('2d'), {
            type: 'doughnut',
            data: {
                labels: Object.keys(reportData.makkahMealPlans),
                datasets: [{ data: Object.values(reportData.makkahMealPlans), backgroundColor: [brandPalette.gold, brandPalette.goldLight, brandPalette.accent], hoverOffset: 4 }]
            },
            options: { ...tooltipCallback, responsive: true, maintainAspectRatio: false }
        });

        // Madinah Comparison
        new Chart(document.getElementById('madinahComparisonChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: reportData.madinahHotels.map(d => wrapLabel(d.hotel)),
                datasets: [{ label: 'ูุชูุณุท ุงูุชูููุฉ (ุฑูุงู ุณุนูุฏู)', data: reportData.madinahHotels.map(d => d.cost), backgroundColor: chartColors }]
            },
            options: { ...tooltipCallback, responsive: true, maintainAspectRatio: false }
        });

        // Madinah Value Scatter
        const mealPlanToValue = { 'RO': 1, 'BB': 2, 'HB': 3, 'FB': 4 };
        new Chart(document.getElementById('madinahValueChart').getContext('2d'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'ููุงุฏู ุงููุฏููุฉ',
                    data: reportData.madinahValue.map(d => ({
                        x: d.price,
                        y: mealPlanToValue[d.meal_plan],
                        label: `${d.hotel} (${d.meal_plan})`
                    })),
                    backgroundColor: chartColors, pointRadius: 8, pointHoverRadius: 12
                }]
            },
            options: {
                ...tooltipCallback, responsive: true, maintainAspectRatio: false,
                scales: {
                    x: { title: { display: true, text: 'ูุชูุณุท ุงูุณุนุฑ (ุฑูุงู ุณุนูุฏู)', font: { family: 'Cairo' } } },
                    y: {
                        title: { display: true, text: 'ุจุงูุฉ ุงููุฌุจุงุช', font: { family: 'Cairo' } },
                        ticks: { stepSize: 1, callback: (value) => ['','RO', 'BB', 'HB', 'FB'][value] || '' }
                    }
                },
                plugins: { tooltip: { callbacks: { label: (context) => context.raw.label, title: () => '' } } }
            }
        });

        // Supplier Comparison Chart
        new Chart(document.getElementById('supplierComparisonChart').getContext('2d'), {
            type: 'bar',
            data: {
                labels: reportData.supplierComparison.labels,
                datasets: reportData.supplierComparison.datasets.map((d, i) => ({
                    label: d.supplier,
                    data: d.prices,
                    backgroundColor: chartColors[i]
                }))
            },
            options: {
                ...tooltipCallback, responsive: true, maintainAspectRatio: false,
                scales: { y: { beginAtZero: true, title: { display: true, text: 'ุงูุณุนุฑ (ุฑูุงู ุณุนูุฏู)', font: { family: 'Cairo' } } } }
            }
        });

        // Mobile nav toggle (accessibility-friendly)
        (function() {
            const navToggle = document.getElementById('navToggle');
            const navLinks = document.getElementById('navLinks');
            if (!navToggle || !navLinks) return;
            navToggle.classList.remove('hidden');
            navToggle.addEventListener('click', () => {
                const expanded = navToggle.getAttribute('aria-expanded') === 'true';
                navToggle.setAttribute('aria-expanded', String(!expanded));
                navLinks.classList.toggle('show');
            });
            // Close panel when clicking outside on mobile
            document.addEventListener('click', (e) => {
                if (window.innerWidth > 767) return;
                if (!navLinks.classList.contains('show')) return;
                const target = e.target;
                if (!navLinks.contains(target) && target !== navToggle) {
                    navLinks.classList.remove('show');
                    navToggle.setAttribute('aria-expanded', 'false');
                }
            });
        })();

    </script>
</body>
</html>